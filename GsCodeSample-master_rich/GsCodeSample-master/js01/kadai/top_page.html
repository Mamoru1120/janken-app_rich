<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<script src="./index.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>みんなでじゃんけんゲーム</title>
</head>

<!-- 学び
・Classは異なるものを同じグループとするときに使用する、Idは識別するときに使用する
・GetElementById, GetElementsClassName, onclick
-->

<body>

  <audio id="audio" src="./audio/MusMus-BGM-171.mp3" autoplay loop>
    あなたのブラウザーは <code>audio</code>要素をサポートしていません。
  </audio>

 

<main>
  <!-- アプリタイトル -->
  <div id="app_title">
    みんなでじゃんけんゲーム
  </div>

  <!-- クリックボタン -->
  <div id="button_container1">
    <a class="button_group1" href="./player_config_page.html">スタート</a>
    <p class="button_group1" id="config_button" onclick="modalOpen(config_modal)">設定</p>
  </div>
  
  <!-- 設定の中身（ポップアップ） -->
  <div id="config_modal">
    <div id="content_of_config"> 
      <div id="config">
        <p id="BGM_sound">BGM音量</p>
        <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5">
        <span id="vol_range">0.5</span>
      </div>

      <!-- <div> -->
        <p id="config_close_button" onclick="modalClose(config_modal)">閉じる</p>
      <!-- </div> -->
    </div>
  </div>

</main>

<script>
  // ボリューム設定
  let ad = document.getElementById("audio");
  let elem_volume = document.getElementById("volume");
  let elem_range = document.getElementById("vol_range");

  ad.volume = elem_volume.value;  // 初期値設定

  // ボリューム変更時
  elem_volume.addEventListener("change", function(){
    ad.volume = elem_volume.value;
    elem_range.textContent = elem_volume.value;
    localStorage.setItem("audio", elem_volume);
  }, false);
</script>
</body>
</html>